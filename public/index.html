<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Wad.js Demoâ€¦</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
        <link rel="stylesheet" href="/css/style.css">
    </head>

    <body id="home">
        <div id="vue-root">
            <nav class="navbar navbar-dark bg-dark mb-4">
                <button @click="openTab('performance')" class="btn btn-link">Performance</button>
                <button @click="openTab('instruments')" class="btn btn-link">Instruments</button>
                <button @click="openTab('time')" class="btn btn-link">Time</button>
            </nav>
            <div v-cloak class="container">

        

                

                <div v-if="ls.currentTab == 'time'" class="time-config">
                    <button @click="startClock">Start Clock</button>
                    <button @click="stopClock">Stop Clock</button>
                    <button @click="resetApp">Reset App</button>
                    <label>Beat Length(ms)</label>
                    <input type="number" v-model="ls.clock.beatLen">
                    <input v-model="ls.sliders.beatLen" type="range" min="5" max="50" >
                    <br>
                    <input type="number" v-model="ls.clock.beatsPerBar">
                    <br>
                    <input type="number" v-model="ls.clock.barsPerLoop">
                </div>

                <div v-if="ls.currentTab == 'instruments'" class="instrument-config">

                    <a class="" data-toggle="collapse" href="#collapseKeys" role="button" aria-expanded="false" aria-controls="collapseKeys">
                        <h2>Keys</h2>
                    </a>
                    <div class="collapse bordered alpha " id="collapseKeys">
                        <div class="p-3">
                            <div v-if="instruments.alpha" class="">
                                <label>Oscillator</label>
                                <select v-on:change="changeSource('alpha', $event)" v-model="ls.instruments.alpha.source">
                                    <option value="sine">Sine</option>
                                    <option value="triangle">Triangle</option>
                                    <option value="sawtooth">Sawtooth</option>
                                    <option value="square">Square</option>
                                </select>
                                <br>
                                <button @click="play('alpha')">Test</button>
                                <br>
                                <label>Volume</label>
                                <input v-model.number="instruments.alpha.defaultVolume" type="range" min="0" max="1" step=".05">
                                <input v-model.number="instruments.alpha.defaultVolume" >
                                <br>
                                <label>Panning</label>
                                <input v-model.number="instruments.alpha.panning.location" type="range" min="-1" max="1" step=".1">
                                <input v-model.number="instruments.alpha.panning.location" >
                                <hr>
                                <br>
                                <label>Attack</label>
                                <input v-model.number="instruments.alpha.defaultEnv.attack" type="range" min="0" max="1" step=".1">
                                <input v-model.number="instruments.alpha.defaultEnv.attack" >
                                <br>
                                <label>Decay</label>
                                <input v-model.number="instruments.alpha.defaultEnv.decay" type="range" min="0" max="1" step=".1">
                                <input v-model.number="instruments.alpha.defaultEnv.decay" >
                                <br>
                                <label>Sustain</label>
                                <input v-model.number="instruments.alpha.defaultEnv.sustain" type="range" min="0" max="1" step=".1">
                                <input v-model.number="instruments.alpha.defaultEnv.sustain" >
                                <br>
                                <label>Release</label>
                                <input v-model.number="instruments.alpha.defaultEnv.release" type="range" min="0" max="1" step=".1">
                                <input v-model.number="instruments.alpha.defaultEnv.release" >
                                <hr>
                                <div v-if="instruments.alpha.filter">
                                    <label>Filter Type</label>
                                    <select v-model="instruments.alpha.filter[0].type">
                                        <option value="lowpass">Lowpass</option>
                                        <option value="highpass">Highpass</option>
                                        <option value="bandpass">Bandpass</option>
                                        <option value="lowshelf">Lowshelf</option>
                                        <option value="highshelf">Highshelf</option>
                                        <option value="peaking">Peaking</option>
                                        <option value="notch">Notch</option>
                                        <option value="allpass">Allpass</option>
                                    </select>
                                    <hr>
                                    <label>Filter Frequency</label>
                                    <input v-model.number="instruments.alpha.filter[0].frequency" type="range" min="0" max="6000" >
                                    <input v-model.number="instruments.alpha.filter[0].frequency" >
                                    <br>
                                    <div v-if="instruments.alpha.filter[0].env">
                                        <label>Filter Attack</label>
                                        <input v-model.number="instruments.alpha.filter[0].env.attack" type="range" min="0" max="1" >
                                        <input v-model.number="instruments.alpha.filter[0].env.attack" >
                                    </div>
                                </div>
                                
                            </div>
                        
                        </div>
                    </div>

                    <a class="" data-toggle="collapse" href="#collapseBass" role="button" aria-expanded="false" aria-controls="collapseBass">
                        <h2>Bass</h2>
                    </a>
                    <div class="collapse bordered beta " id="collapseBass">
                        <div class="p-3">
                            <span>hi</span>
                        </div>
                    </div>

                    <a class="" data-toggle="collapse" href="#collapseSynth" role="button" aria-expanded="false" aria-controls="collapseKeys">
                        <h2>Synth</h2>
                    </a>
                    <div class="collapse bordered gamma " id="collapseSynth">
                        <div class="p-3">
                            <span>hi</span>
                        </div>
                    </div>

                    <a class="" data-toggle="collapse" href="#collapseDrums" role="button" aria-expanded="false" aria-controls="collapseKeys">
                        <h2>Drums</h2>
                    </a>
                    <div class="collapse bordered delta " id="collapseDrums">
                        <div class="p-3">
                            <span>hi</span>
                        </div>
                    </div>

                    <a class="" data-toggle="collapse" href="#collapseMicrophone" role="button" aria-expanded="false" aria-controls="collapseMicrophone">
                        <h2>Microphone</h2>
                    </a>
                    <div class="collapse bordered epsilon " id="collapseMicrophone">
                        <div class="p-3">
                            <div v-if="instruments.epsilon" class="epsilon">
                                <div v-if="instruments.epsilon.filter">
                                    <label>Filter Type</label>
                                    <select  v-model="instruments.epsilon.filter[0].type">
                                        <option value="lowpass">Lowpass</option>
                                        <option value="highpass">Highpass</option>
                                        <option value="bandpass">Bandpass</option>
                                        <option value="lowshelf">Lowshelf</option>
                                        <option value="highshelf">Highshelf</option>
                                        <option value="peaking">Peaking</option>
                                        <option value="notch">Notch</option>
                                        <option value="allpass">Allpass</option>
                                    </select>
                                    <hr>
                                    <label>Filter Frequency</label>
                                    <input v-model.number="instruments.epsilon.filter[0].frequency" type="range" min="0" max="6000" >
                                    <input v-model.number="instruments.epsilon.filter[0].frequency" >

                                </div>
                            
                            </div>
                        </div>
                    </div>
                </div>

                <div v-if="ls.currentTab == 'performance'" class="performance">

                    <div class="beat-map">
                        <div 
                            v-for="n in beatsPerLoop" 
                            class="beat-box d-inline-block" 
                            v-bind:style="{width: beatBoxWidth}"
                            v-bind:class="{'active-beat': ls.clock.curBeat == n}"
                        >{{n}}</div>
                    </div>
                    <div v-for="loopTrack in loopTracks">
                        <marquee>Voluuuume!</marquee>
                    </div>
                </div>
            </div>

        </div>

        <!-- <script src="./src/Recorderjs/recorder.js"></script> -->
        <script src="/js/wad.js"></script>
        <script src="https://unpkg.com/vue"></script>
        <script src="/js/main.vm.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
        <!-- <script src="./templates.js"></script> -->
        <!-- <script src="./init.js"></script> -->
        <!-- <script src="./utils.js"></script> -->
        <!-- <script src="./instruments.js"></script> -->
        <!-- <script src="./loopTracks.js"></script> -->
        <!-- <script src="./trackActions.js"></script> -->
        <!-- <script src="./midiRigs.js"></script> -->
        <!-- <script src="./domReady.js"></script> -->
        <!-- <script src="./tooltips.js"></script> -->
        <!-- <script src="./looper.js"></script> -->
 
    </body>
</html>
